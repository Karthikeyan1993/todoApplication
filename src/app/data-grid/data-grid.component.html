<cdk-virtual-scroll-viewport itemSize="50" [ngStyle]="{'height.px':height}">
  <table class="table table-hover table-dark">
    <thead>
      <tr>
        <th *ngFor="let col of columnDefs" [ngStyle]="{'width.%':col.width? col.width:0}" (click)="doOrder(col.prop)">
          <span>{{col.displayName}}</span>
          <span *ngIf="col.prop!=''" class="pl-2 fa sort-icon" [ngClass]="getClass(col.prop)"></span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *cdkVirtualFor="let todo of todoList | dataSort:orderBy:prop; let i = index;" (mouseover)="row=i"
        (mouseleave)="row=-1">
        <td>{{todo.id}}</td>
        <td>{{todo.name}}</td>
        <td><span class="fa fa-tag pr-1" [ngClass]="util.getTagClass(todo.tag)" aria-hidden="true"></span>{{todo.tag}}
        </td>
        <td><span class="fa fa-flag pr-1" aria-hidden="true"
            [ngClass]="util.getPriorityClass(todo.priority)"></span>{{todo.priority}}</td>
        <td><span class="badge" [ngClass]="util.getStatusClass(todo.status)">{{todo.status}}</span></td>
        <td>{{todo.duedate}}</td>
        <td *ngIf="row!=i"></td>
        <td *ngIf="row==i">
          <span (click)="updateUpto(todo)" *ngIf="todo.status=='In Progress'" tooltip="Mark As Complete"
            class="fa fa-check-square-o action-icons pr-2" aria-hidden="true"></span>
          <span tooltip="Edit" *ngIf="todo.status=='In Progress'" (click)="editTodo(todo);"
            class="fa fa-pencil-square-o action-icons pr-2" aria-hidden="true"></span>
          <span tooltip="Delete" (click)="deleteTodo(todo.id)" class="fa fa-trash-o action-icons"
            aria-hidden="true"></span>
        </td>
      </tr>
      <tr *ngIf="todoList.length==0">
        <td class="text-center" [attr.colspan]="columnDefs.length">
          No tasks in this filter at the moment <span><i class="fa fa-meh-o pl-1" aria-hidden="true"></i></span>
        </td>
      </tr>
    </tbody>
  </table>
</cdk-virtual-scroll-viewport>